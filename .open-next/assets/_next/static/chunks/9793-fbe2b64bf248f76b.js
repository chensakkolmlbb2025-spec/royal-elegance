"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9793],{28171:(e,t,a)=>{a.d(t,{dj:()=>m});var s=a(12115);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=[],l={toasts:[]};function c(e){l=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(l,e),o.forEach(e=>{e(l)})}function d(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(l);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},54664:(e,t,a)=>{a.d(t,{w:()=>i});var s=a(95155);a(12115);var r=a(47321),n=a(25016);function i(e){let{className:t,orientation:a="horizontal",decorative:i=!0,...o}=e;return(0,s.jsx)(r.b,{"data-slot":"separator",decorative:i,orientation:a,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...o})}},83209:(e,t,a)=>{a.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i,wL:()=>d});var s=a(95155);a(12115);var r=a(25016);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",t),...a})}},91753:(e,t,a)=>{a.d(t,{S:()=>g});var s=a(95155),r=a(12115),n=a(52619),i=a.n(n),o=a(20063),l=a(97003),c=a(21873),d=a(69141),m=a(23664),u=a(20508),h=a(16485),x=a(65229),f=a(9540),p=a(8525);function g(){let[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),j=(0,o.usePathname)(),y=(0,p.U)();(0,r.useEffect)(()=>{let e=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await y.auth.getUser();v(e)})();let{data:{subscription:e}}=y.auth.onAuthStateChange((e,t)=>{var a;v(null!=(a=null==t?void 0:t.user)?a:null)});return()=>e.unsubscribe()},[y]);let w=[{href:"/",label:"Home"},{href:"/rooms",label:"Rooms & Suites"},{href:"/services",label:"Experiences"},{href:"/bookings",label:"My Reservations"}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-slate-900 text-white py-2 px-4 text-xs",children:(0,s.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsxs)("a",{href:"https://maps.google.com/?q=Royal+Elegance+Hotel",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,s.jsx)(c.A,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"hidden md:inline",children:"123 Luxury Avenue, Downtown"})]}),(0,s.jsxs)("a",{href:"tel:+1234567890",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,s.jsx)(d.A,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"hidden md:inline",children:"+1 (234) 567-890"})]}),(0,s.jsxs)("a",{href:"mailto:reservations@hotel.com",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,s.jsx)(m.A,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"hidden md:inline",children:"reservations@hotel.com"})]})]}),(0,s.jsx)("div",{className:"flex gap-4 items-center",children:g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{href:"/profile",className:"hover:text-primary transition-colors flex items-center gap-1",children:[(0,s.jsx)(u.A,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"hidden md:inline",children:"My Account"})]}),(0,s.jsx)("button",{onClick:async()=>{await y.auth.signOut(),window.location.href="/"},className:"hover:text-primary transition-colors",children:"Sign Out"})]}):(0,s.jsx)(i(),{href:"/login",className:"hover:text-primary transition-colors",children:"Sign In"})})]})}),(0,s.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500 ".concat(e?"glass-card border-b":"bg-transparent"),style:{top:e?"0":"32px"},children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 items-center h-20 gap-4",children:[(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsxs)(i(),{href:"/",className:"flex flex-col items-start group",children:[(0,s.jsx)("span",{className:"text-2xl font-display font-bold tracking-wider transition-all duration-300 ".concat(e?"text-slate-900":"text-white"," group-hover:accent-gold"),children:"ROYAL ELEGANCE"}),(0,s.jsx)("span",{className:"text-[10px] tracking-[0.3em] uppercase transition-all duration-300 ".concat(e?"text-slate-600":"text-white/80"," group-hover:text-[#d4af37]"),children:"Luxury Hotel & Residences"})]})}),(0,s.jsx)("div",{className:"hidden lg:flex items-center justify-center gap-8",children:w.map(t=>(0,s.jsxs)(i(),{href:t.href,className:"text-sm tracking-wide uppercase transition-all duration-300 relative group whitespace-nowrap ".concat(j===t.href?e?"text-slate-900 font-semibold":"text-white font-semibold":e?"text-slate-700 hover:text-slate-900":"text-white/90 hover:text-white"),children:[t.label,(0,s.jsx)("span",{className:"absolute -bottom-1 left-0 h-0.5 transition-all duration-300 ".concat(j===t.href?"w-full bg-gradient-to-r from-[#d4af37] to-[#f4d03f]":"w-0 bg-gradient-to-r from-[#d4af37] to-[#f4d03f] group-hover:w-full")})]},t.href))}),(0,s.jsx)("div",{className:"hidden lg:flex items-center justify-end gap-4",children:(0,s.jsx)(i(),{href:"/rooms",children:(0,s.jsxs)(l.$,{size:"sm",className:"booking-button tracking-wide",children:[(0,s.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Book Now"]})})}),(0,s.jsx)("div",{className:"lg:hidden flex justify-end",children:(0,s.jsx)("button",{onClick:()=>n(!a),className:"p-2 ".concat(e?"text-slate-900":"text-white"),children:a?(0,s.jsx)(x.A,{className:"w-6 h-6"}):(0,s.jsx)(f.A,{className:"w-6 h-6"})})})]})})}),a&&(0,s.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",style:{top:"112px"},children:(0,s.jsx)("div",{className:"absolute inset-0 bg-slate-900/95 backdrop-blur-xl",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[w.map(e=>(0,s.jsx)(i(),{href:e.href,onClick:()=>n(!1),className:"text-lg tracking-wide uppercase transition-colors ".concat(j===e.href?"text-primary font-medium":"text-white hover:text-primary"),children:e.label},e.href)),(0,s.jsx)("div",{className:"pt-6 border-t border-white/10",children:(0,s.jsx)(i(),{href:"/rooms",onClick:()=>n(!1),children:(0,s.jsxs)(l.$,{className:"w-full booking-button",size:"lg",children:[(0,s.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Book Your Stay"]})})})]})})})})]})}},99510:(e,t,a)=>{a.d(t,{z:()=>d});var s=a(95155),r=a(78206),n=a(94511),i=a(12115),o=a(97003),l=a(28171);let c=(0,n.c)("pk_test_51SSB5bIEypZYvU2fg9Bao1VQ57HQjSzQABZlrDhpvvRygqgrVgO7cqWszBZKeDeHGWIgqPBLTbsXAopg4CvhkeOw00FixCPjAL");function d(e){let{bookingId:t,amount:a,currency:n="usd",customerEmail:o}=e,[d,u]=(0,i.useState)(null),{toast:h}=(0,l.dj)(),x=(0,i.useMemo)(()=>({clientSecret:d||void 0,appearance:{theme:"stripe"}}),[d]);return((0,i.useEffect)(()=>{(async()=>{try{console.log("[Payment] Creating payment intent:",{bookingId:t,amount:a,currency:n});let e=await fetch("/api/payments/create-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookingId:t,amount:a,currency:n,customer_email:o})}),s=await e.json();if(console.log("[Payment] Payment intent response:",{status:e.status,hasClientSecret:!!s.clientSecret,error:s.error}),!e.ok)throw Error(s.error||"Failed to create payment intent (".concat(e.status,")"));if(!s.clientSecret)throw Error("No client secret received from server");u(s.clientSecret)}catch(e){console.error("[Payment] Failed to create payment intent:",e),h({title:"Payment setup failed",description:e.message||"Could not initialize payment",variant:"destructive"})}})()},[t,a,n,o,h]),d)?(0,s.jsx)(r.Elements,{stripe:c,options:x,children:(0,s.jsx)(m,{bookingId:e.bookingId})}):(0,s.jsx)("div",{className:"p-4 text-sm text-muted-foreground",children:"Preparing secure payment form…"})}function m(e){let{bookingId:t}=e,a=(0,r.useStripe)(),n=(0,r.useElements)(),{toast:c}=(0,l.dj)(),[d,m]=(0,i.useState)(!1),u=async e=>{if(e.preventDefault(),a&&n&&!d){m(!0);try{console.log("[Payment] Starting payment confirmation for booking:",t);let{error:e,paymentIntent:s}=await a.confirmPayment({elements:n,confirmParams:{return_url:"".concat(window.location.origin,"/booking-confirmation?id=").concat(t)},redirect:"if_required"});e?(console.error("[Payment] Payment failed:",e),c({title:"Payment failed",description:e.message||"An unexpected error occurred",variant:"destructive"})):(console.log("[Payment] Payment successful:",null==s?void 0:s.status),c({title:"Payment successful!",description:"Your booking has been confirmed."}),window.location.href="/booking-confirmation?id=".concat(t))}catch(e){console.error("[Payment] Unexpected error:",e),c({title:"Payment error",description:e.message||"An unexpected error occurred",variant:"destructive"})}finally{m(!1)}}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(r.PaymentElement,{}),(0,s.jsx)(o.$,{disabled:!a||d,onClick:u,className:"w-full",children:d?"Processing…":"Pay now"})]})}}}]);