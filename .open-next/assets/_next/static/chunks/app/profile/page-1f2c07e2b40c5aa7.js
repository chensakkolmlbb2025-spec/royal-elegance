(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{28171:(e,s,a)=>{"use strict";a.d(s,{dj:()=>u});var t=a(12115);let r=0,l=new Map,i=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},n=[],c={toasts:[]};function d(e){c=((e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=s;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}})(c,e),n.forEach(e=>{e(c)})}function o(e){let{...s}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...s,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,s]=t.useState(c);return t.useEffect(()=>(n.push(s),()=>{let e=n.indexOf(s);e>-1&&n.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},33789:(e,s,a)=>{"use strict";a.d(s,{p:()=>l});var t=a(95155);a(12115);var r=a(25016);function l(e){let{className:s,type:a,...l}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...l})}},40070:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>B});var t=a(95155),r=a(12115),l=a(8525),i=a(4939),n=a(91753),c=a(97003),d=a(33789),o=a(90235),u=a(83209),m=a(90923),x=a(54664),h=a(67812),f=a(28171),p=a(20508),v=a(99708),j=a(79451),g=a(17910),N=a(70532),b=a(57828),w=a(71360),y=a(23664),k=a(69141);function S(){var e,s;let[a,i]=(0,r.useState)(null),{toast:n}=(0,f.dj)(),[S,A]=(0,r.useState)(""),[_,E]=(0,r.useState)(""),[U,C]=(0,r.useState)(!1),[P,T]=(0,r.useState)(""),[D,F]=(0,r.useState)(""),[R,O]=(0,r.useState)(""),[L,B]=(0,r.useState)(!1),[V,z]=(0,r.useState)(!1),[I,M]=(0,r.useState)(!1),[Z,$]=(0,r.useState)(!1),[W,Y]=(0,r.useState)([]),[J,X]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=(0,l.U)();e.auth.getUser().then(e=>{var s,a;let{data:{user:t}}=e;i(t),(null==t||null==(s=t.user_metadata)?void 0:s.full_name)&&A(t.user_metadata.full_name),(null==t||null==(a=t.user_metadata)?void 0:a.phone)&&E(t.user_metadata.phone)});let{data:{subscription:s}}=e.auth.onAuthStateChange((e,s)=>{var a;i(null!=(a=null==s?void 0:s.user)?a:null)});return()=>s.unsubscribe()},[]),(0,r.useEffect)(()=>{ee()},[]);let q=async e=>{let s=(0,l.U)(),{error:a}=await s.auth.updateUser({data:e});if(a)throw a},G=async(e,s)=>{let a=(0,l.U)(),{error:t}=await a.auth.updateUser({password:s});if(t)throw t},H=async()=>{let e=(0,l.U)(),{data:{user:s}}=await e.auth.getUser();if(!(null==s?void 0:s.email))throw Error("No email found");return Promise.resolve()},K=async()=>[{id:"1",device:"Chrome on macOS",lastActive:new Date(Date.now()-5e3),location:"New York, USA"}],Q=async e=>Promise.resolve(),ee=async()=>{X(!0);try{let e=await K();Y(e)}catch(e){console.error("Error loading sessions:",e)}finally{X(!1)}},es=async e=>{e.preventDefault(),C(!0);try{await q({fullName:S,phone:_}),n({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(e){n({title:"Update Failed",description:e.message||"Failed to update profile.",variant:"destructive"})}finally{C(!1)}},ea=async e=>{if(e.preventDefault(),D!==R)return void n({title:"Passwords Don't Match",description:"Please make sure your passwords match.",variant:"destructive"});$(!0);try{await G(P,D),n({title:"Password Updated",description:"Your password has been changed successfully."}),T(""),F(""),O("")}catch(e){n({title:"Update Failed",description:e.message||"Failed to update password.",variant:"destructive"})}finally{$(!1)}},et=async()=>{try{await H(),n({title:"Verification Email Sent",description:"Please check your inbox for the verification link."})}catch(e){n({title:"Failed to Send Email",description:e.message||"Please try again later.",variant:"destructive"})}},er=async e=>{try{await Q(e),n({title:"Session Deleted",description:"The session has been removed."}),ee()}catch(e){n({title:"Delete Failed",description:e.message||"Failed to delete session.",variant:"destructive"})}};return a?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-display font-bold",children:"Profile Settings"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),(0,t.jsxs)(m.tU,{defaultValue:"profile",className:"w-full",children:[(0,t.jsxs)(m.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsxs)(m.Xi,{value:"profile",children:[(0,t.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Profile"]}),(0,t.jsxs)(m.Xi,{value:"security",children:[(0,t.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Security"]}),(0,t.jsxs)(m.Xi,{value:"sessions",children:[(0,t.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Sessions"]}),(0,t.jsxs)(m.Xi,{value:"verification",children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Verification"]})]}),(0,t.jsx)(m.av,{value:"profile",children:(0,t.jsxs)(u.Zp,{className:"glass-card",children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Personal Information"}),(0,t.jsx)(u.BT,{children:"Update your personal details"})]}),(0,t.jsx)(u.Wu,{children:(0,t.jsxs)("form",{onSubmit:es,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(d.p,{id:"email",type:"email",value:a.email,disabled:!0,className:"glass"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"fullName",children:"Full Name"}),(0,t.jsx)(d.p,{id:"fullName",type:"text",value:S,onChange:e=>A(e.target.value),className:"glass"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"phone",children:"Phone Number"}),(0,t.jsx)(d.p,{id:"phone",type:"tel",value:_,onChange:e=>E(e.target.value),className:"glass"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{children:"Role"}),(0,t.jsx)("div",{children:(0,t.jsx)(h.E,{variant:"secondary",className:"capitalize",children:a.role})})]}),(0,t.jsx)(c.$,{type:"submit",disabled:U,children:U?"Updating...":"Update Profile"})]})})]})}),(0,t.jsx)(m.av,{value:"security",children:(0,t.jsxs)(u.Zp,{className:"glass-card",children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Change Password"}),(0,t.jsx)(u.BT,{children:"Update your password to keep your account secure"})]}),(0,t.jsx)(u.Wu,{children:(0,t.jsxs)("form",{onSubmit:ea,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"currentPassword",children:"Current Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.p,{id:"currentPassword",type:L?"text":"password",value:P,onChange:e=>T(e.target.value),required:!0,className:"glass pr-10"}),(0,t.jsx)("button",{type:"button",onClick:()=>B(!L),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:L?(0,t.jsx)(N.A,{className:"w-4 h-4"}):(0,t.jsx)(b.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"newPassword",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.p,{id:"newPassword",type:V?"text":"password",value:D,onChange:e=>F(e.target.value),required:!0,className:"glass pr-10"}),(0,t.jsx)("button",{type:"button",onClick:()=>z(!V),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:V?(0,t.jsx)(N.A,{className:"w-4 h-4"}):(0,t.jsx)(b.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.p,{id:"confirmPassword",type:I?"text":"password",value:R,onChange:e=>O(e.target.value),required:!0,className:"glass pr-10"}),(0,t.jsx)("button",{type:"button",onClick:()=>M(!I),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:I?(0,t.jsx)(N.A,{className:"w-4 h-4"}):(0,t.jsx)(b.A,{className:"w-4 h-4"})})]})]}),(0,t.jsx)(c.$,{type:"submit",disabled:Z,children:Z?"Updating...":"Update Password"})]})})]})}),(0,t.jsx)(m.av,{value:"sessions",children:(0,t.jsxs)(u.Zp,{className:"glass-card",children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Active Sessions"}),(0,t.jsx)(u.BT,{children:"Manage your active sessions across devices"})]}),(0,t.jsx)(u.Wu,{children:J?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Loading sessions..."}):0===W.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No active sessions found"}):(0,t.jsx)("div",{className:"space-y-4",children:W.map(e=>(0,t.jsxs)("div",{className:"flex items-start justify-between p-4 rounded-lg border border-border/50 bg-card/50",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(j.A,{className:"w-5 h-5 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.device_info||"Unknown Device"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Last active: ",new Date(e.last_activity).toLocaleString()]}),e.ip_address&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["IP: ",e.ip_address]})]})]}),(0,t.jsx)(c.$,{variant:"ghost",size:"icon",onClick:()=>er(e.id),className:"text-destructive hover:text-destructive",children:(0,t.jsx)(w.A,{className:"w-4 h-4"})})]},e.id))})})]})}),(0,t.jsx)(m.av,{value:"verification",children:(0,t.jsxs)(u.Zp,{className:"glass-card",children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Account Verification"}),(0,t.jsx)(u.BT,{children:"Verify your email and phone number"})]}),(0,t.jsxs)(u.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(y.A,{className:"w-5 h-5 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Email Verification"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:a.email})]})]}),a.email_confirmed_at?(0,t.jsx)(h.E,{className:"bg-green-500/20 text-green-700",children:"Verified"}):(0,t.jsx)(h.E,{variant:"destructive",children:"Not Verified"})]}),!a.email_confirmed_at&&(0,t.jsx)(c.$,{variant:"outline",onClick:et,className:"w-full",children:"Resend Verification Email"})]}),(0,t.jsx)(x.w,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(k.A,{className:"w-5 h-5 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Phone Verification"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:(null==(e=a.user_metadata)?void 0:e.phone)||"No phone number"})]})]}),a.phone_confirmed_at?(0,t.jsx)(h.E,{className:"bg-green-500/20 text-green-700",children:"Verified"}):(0,t.jsx)(h.E,{variant:"secondary",children:"Not Verified"})]}),(null==(s=a.user_metadata)?void 0:s.phone)&&!a.phone_confirmed_at&&(0,t.jsx)(c.$,{variant:"outline",className:"w-full",disabled:!0,children:"Verify Phone (Coming Soon)"})]}),(0,t.jsx)(x.w,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(g.A,{className:"w-5 h-5 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Two-Factor Authentication"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]})]}),(0,t.jsx)(h.E,{variant:"secondary",children:"Disabled"})]}),(0,t.jsxs)(c.$,{variant:"outline",className:"w-full",disabled:!0,children:["Enable 2FA"," (Coming Soon)"]})]})]})]})})]})]}):(0,t.jsx)(u.Zp,{className:"glass-card",children:(0,t.jsx)(u.Wu,{className:"p-6 text-center text-muted-foreground",children:"Please sign in to view your profile settings."})})}var A=a(7870),_=a(25016);function E(e){let{className:s,...a}=e;return(0,t.jsx)(A.bL,{"data-slot":"avatar",className:(0,_.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...a})}function U(e){let{className:s,...a}=e;return(0,t.jsx)(A._V,{"data-slot":"avatar-image",className:(0,_.cn)("aspect-square size-full",s),...a})}function C(e){let{className:s,...a}=e;return(0,t.jsx)(A.H4,{"data-slot":"avatar-fallback",className:(0,_.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...a})}function P(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,_.cn)("bg-accent animate-pulse rounded-md",s),...a})}var T=a(20063),D=a(95664),F=a(21786),R=a(42529),O=a(26983),L=a(16485);function B(){var e;let[s,a]=(0,r.useState)(null),[d,o]=(0,r.useState)(null),[x,v]=(0,r.useState)(!0),j=(0,T.useRouter)(),{toast:g}=(0,f.dj)(),N=(0,l.U)(),[b,w]=(0,r.useState)("profile"),[y,k]=(0,r.useState)([]),[A,_]=(0,r.useState)(!0),[B,V]=(0,r.useState)(!1),z=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{try{let{data:{user:e}}=await N.auth.getUser();if(!e)return void j.push("/login");a(e);let{data:s}=await N.from("profiles").select("*").eq("id",e.id).single();o(s)}catch(e){console.error("Error loading profile:",e)}finally{v(!1)}})();let{data:{subscription:e}}=N.auth.onAuthStateChange((e,s)=>{var t;a(null!=(t=null==s?void 0:s.user)?t:null),(null==s?void 0:s.user)||j.push("/login")});return()=>e.unsubscribe()},[N,j]),(0,r.useEffect)(()=>{(null==s?void 0:s.id)&&I()},[null==s?void 0:s.id]),(0,r.useEffect)(()=>()=>{var e;(null==d||null==(e=d.avatar_url)?void 0:e.startsWith("blob:"))&&URL.revokeObjectURL(d.avatar_url)},[null==d?void 0:d.avatar_url]);let I=async()=>{if(null==s?void 0:s.id){_(!0);try{let e=await (0,i.rD)(s.id);k(e.slice(0,5))}catch(e){console.error("Error loading bookings:",e)}finally{_(!1)}}},M=async e=>{var a,t;let r=null==(a=e.target.files)?void 0:a[0];if(r){if(e.target.value="",!r.type.startsWith("image/"))return void g({title:"Invalid File Type",description:"Please select an image file (JPG, PNG, GIF, etc.).",variant:"destructive"});if(r.size>5242880)return void g({title:"File Too Large",description:"Please select an image smaller than 5MB.",variant:"destructive"});V(!0);try{(null==d||null==(t=d.avatar_url)?void 0:t.startsWith("blob:"))&&URL.revokeObjectURL(d.avatar_url);let e=URL.createObjectURL(r);await N.from("profiles").update({avatar_url:e}).eq("id",s.id),o(s=>s?{...s,avatar_url:e}:null),g({title:"Avatar Updated",description:"Your profile picture has been updated successfully."})}catch(e){g({title:"Upload Failed",description:e.message||"Failed to update avatar.",variant:"destructive"})}finally{V(!1)}}};return x?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-accent/5 to-background",children:[(0,t.jsx)(n.S,{}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",style:{marginTop:"112px"},children:(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading profile..."})]})})})]}):s?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-accent/5 to-background",children:[(0,t.jsx)(n.S,{}),(0,t.jsx)("main",{className:"container mx-auto px-4 py-8",style:{marginTop:"112px"},children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(u.Zp,{className:"glass-card-primary",children:(0,t.jsx)(u.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-6",children:[(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsxs)(E,{className:"w-24 h-24 ring-4 ring-background shadow-lg",children:[(0,t.jsx)(U,{src:(null==d?void 0:d.avatar_url)||"",alt:(null==d?void 0:d.full_name)||"Profile"}),(0,t.jsx)(C,{className:"text-xl font-bold",children:(null==d?void 0:d.full_name)?d.full_name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2):(0,t.jsx)(p.A,{className:"w-8 h-8"})})]}),(0,t.jsx)("button",{onClick:()=>{var e;return null==(e=z.current)?void 0:e.click()},disabled:B,className:"absolute inset-0 flex items-center justify-center bg-black/60 text-white opacity-0 group-hover:opacity-100 transition-all duration-200 rounded-full cursor-pointer disabled:cursor-not-allowed disabled:opacity-50",title:B?"Uploading...":"Click to change profile picture",children:B?(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:"Uploading"})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)(D.A,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:"Change"})]})}),(0,t.jsx)("input",{ref:z,type:"file",accept:"image/*",onChange:M,className:"hidden"}),(0,t.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>{var e;return null==(e=z.current)?void 0:e.click()},disabled:B,className:"mt-2 text-xs",children:B?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border border-current border-t-transparent mr-1"}),"Uploading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.A,{className:"w-3 h-3 mr-1"}),"Change Photo"]})})]}),(0,t.jsxs)("div",{className:"text-center sm:text-left flex-1",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:(null==d?void 0:d.full_name)||"".concat((null==s||null==(e=s.email)?void 0:e.split("@")[0])||"User")}),(0,t.jsx)("p",{className:"text-muted-foreground mb-3",children:null==s?void 0:s.email}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-2 mb-4",children:[(0,t.jsx)(h.E,{variant:"outline",className:"capitalize",children:(null==d?void 0:d.role)||"Guest"}),(null==d?void 0:d.email_verified)?(0,t.jsxs)(h.E,{className:"bg-green-500/20 text-green-700",children:[(0,t.jsx)(R.A,{className:"w-3 h-3 mr-1"}),"Verified"]}):(0,t.jsxs)(h.E,{variant:"destructive",children:[(0,t.jsx)(O.A,{className:"w-3 h-3 mr-1"}),"Unverified"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(L.A,{className:"w-4 h-4"}),"Member since ",(null==d?void 0:d.created_at)?new Date(d.created_at).getFullYear():new Date().getFullYear()]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(L.A,{className:"w-4 h-4"}),y.length," bookings"]})]})]})]})})}),(0,t.jsxs)(m.tU,{value:b,onValueChange:w,className:"w-full",children:[(0,t.jsxs)(m.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsxs)(m.Xi,{value:"profile",className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"w-4 h-4"}),"Profile"]}),(0,t.jsxs)(m.Xi,{value:"bookings",className:"flex items-center gap-2",children:[(0,t.jsx)(L.A,{className:"w-4 h-4"}),"Bookings"]})]}),(0,t.jsx)(m.av,{value:"profile",className:"space-y-6 mt-6",children:(0,t.jsx)(S,{})}),(0,t.jsx)(m.av,{value:"bookings",className:"space-y-6 mt-6",children:(0,t.jsxs)(u.Zp,{className:"glass-card-accent",children:[(0,t.jsx)(u.aR,{children:(0,t.jsx)(u.ZB,{children:"Recent Bookings"})}),(0,t.jsx)(u.Wu,{children:A?(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[(0,t.jsx)(P,{className:"w-12 h-12 rounded"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(P,{className:"h-4 w-32"}),(0,t.jsx)(P,{className:"h-3 w-48"})]}),(0,t.jsx)(P,{className:"h-6 w-16"})]},s))}):0===y.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(L.A,{className:"w-12 h-12 mx-auto mb-4 opacity-40"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No bookings yet"}),(0,t.jsx)("p",{className:"text-sm",children:"Your booking history will appear here"}),(0,t.jsx)(c.$,{className:"mt-4",onClick:()=>j.push("/rooms"),children:"Browse Rooms"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[y.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg hover:bg-accent/5 transition-colors",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(L.A,{className:"w-6 h-6 text-primary"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsxs)("h4",{className:"font-medium",children:["Booking #",e.id.slice(-8)]}),(e=>{switch(e){case"confirmed":return(0,t.jsx)(h.E,{className:"bg-green-500/20 text-green-700",children:"Confirmed"});case"pending":return(0,t.jsx)(h.E,{className:"bg-yellow-500/20 text-yellow-700",children:"Pending"});case"checked_out":return(0,t.jsx)(h.E,{className:"bg-blue-500/20 text-blue-700",children:"Completed"});case"cancelled":return(0,t.jsx)(h.E,{className:"bg-red-500/20 text-red-700",children:"Cancelled"});default:return(0,t.jsx)(h.E,{variant:"secondary",children:e})}})(e.status)]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[new Date(e.checkInDate).toLocaleDateString()," - ",new Date(e.checkOutDate).toLocaleDateString()]}),(0,t.jsxs)("div",{className:"text-sm font-medium text-primary",children:["$",e.totalPrice]})]})]},e.id)),y.length>=5&&(0,t.jsx)(c.$,{variant:"outline",className:"w-full",onClick:()=>j.push("/bookings"),children:"View All Bookings"})]})})]})})]})]})})]}):null}},54664:(e,s,a)=>{"use strict";a.d(s,{w:()=>i});var t=a(95155);a(12115);var r=a(47321),l=a(25016);function i(e){let{className:s,orientation:a="horizontal",decorative:i=!0,...n}=e;return(0,t.jsx)(r.b,{"data-slot":"separator",decorative:i,orientation:a,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...n})}},65904:(e,s,a)=>{Promise.resolve().then(a.bind(a,40070))},67812:(e,s,a)=>{"use strict";a.d(s,{E:()=>c});var t=a(95155);a(12115);var r=a(17129),l=a(83101),i=a(25016);let n=(0,l.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:a,asChild:l=!1,...c}=e,d=l?r.DX:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(n({variant:a}),s),...c})}},83209:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>n,Zp:()=>l,aR:()=>i,wL:()=>o});var t=a(95155);a(12115);var r=a(25016);function l(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function i(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function n(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...a})}function o(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",s),...a})}},90235:(e,s,a)=>{"use strict";a.d(s,{J:()=>d});var t=a(95155),r=a(12115),l=a(32894),i=a(83101),n=a(25016);let c=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.b,{ref:s,className:(0,n.cn)(c(),a),...r})});d.displayName=l.b.displayName},90923:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>c,av:()=>d,j7:()=>n,tU:()=>i});var t=a(95155);a(12115);var r=a(55195),l=a(25016);function i(e){let{className:s,...a}=e;return(0,t.jsx)(r.bL,{"data-slot":"tabs",className:(0,l.cn)("flex flex-col gap-2",s),...a})}function n(e){let{className:s,...a}=e;return(0,t.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,l.cn)("tabs-list inline-flex h-11 w-fit items-center justify-center rounded-xl p-2",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,l.cn)("tabs-trigger inline-flex h-8 flex-1 items-center justify-center gap-1.5 rounded-lg px-3 py-1.5 text-sm font-medium whitespace-nowrap transition-all duration-300 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,l.cn)("flex-1 outline-none",s),...a})}},91753:(e,s,a)=>{"use strict";a.d(s,{S:()=>v});var t=a(95155),r=a(12115),l=a(52619),i=a.n(l),n=a(20063),c=a(97003),d=a(21873),o=a(69141),u=a(23664),m=a(20508),x=a(16485),h=a(65229),f=a(9540),p=a(8525);function v(){let[e,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),[v,j]=(0,r.useState)(null),g=(0,n.usePathname)(),N=(0,p.U)();(0,r.useEffect)(()=>{let e=()=>{s(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await N.auth.getUser();j(e)})();let{data:{subscription:e}}=N.auth.onAuthStateChange((e,s)=>{var a;j(null!=(a=null==s?void 0:s.user)?a:null)});return()=>e.unsubscribe()},[N]);let b=[{href:"/",label:"Home"},{href:"/rooms",label:"Rooms & Suites"},{href:"/services",label:"Experiences"},{href:"/bookings",label:"My Reservations"}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-slate-900 text-white py-2 px-4 text-xs",children:(0,t.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsxs)("a",{href:"https://maps.google.com/?q=Royal+Elegance+Hotel",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,t.jsx)(d.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"123 Luxury Avenue, Downtown"})]}),(0,t.jsxs)("a",{href:"tel:+1234567890",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,t.jsx)(o.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"+1 (234) 567-890"})]}),(0,t.jsxs)("a",{href:"mailto:reservations@hotel.com",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,t.jsx)(u.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"reservations@hotel.com"})]})]}),(0,t.jsx)("div",{className:"flex gap-4 items-center",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i(),{href:"/profile",className:"hover:text-primary transition-colors flex items-center gap-1",children:[(0,t.jsx)(m.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"My Account"})]}),(0,t.jsx)("button",{onClick:async()=>{await N.auth.signOut(),window.location.href="/"},className:"hover:text-primary transition-colors",children:"Sign Out"})]}):(0,t.jsx)(i(),{href:"/login",className:"hover:text-primary transition-colors",children:"Sign In"})})]})}),(0,t.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500 ".concat(e?"glass-card border-b":"bg-transparent"),style:{top:e?"0":"32px"},children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 items-center h-20 gap-4",children:[(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsxs)(i(),{href:"/",className:"flex flex-col items-start group",children:[(0,t.jsx)("span",{className:"text-2xl font-display font-bold tracking-wider transition-all duration-300 ".concat(e?"text-slate-900":"text-white"," group-hover:accent-gold"),children:"ROYAL ELEGANCE"}),(0,t.jsx)("span",{className:"text-[10px] tracking-[0.3em] uppercase transition-all duration-300 ".concat(e?"text-slate-600":"text-white/80"," group-hover:text-[#d4af37]"),children:"Luxury Hotel & Residences"})]})}),(0,t.jsx)("div",{className:"hidden lg:flex items-center justify-center gap-8",children:b.map(s=>(0,t.jsxs)(i(),{href:s.href,className:"text-sm tracking-wide uppercase transition-all duration-300 relative group whitespace-nowrap ".concat(g===s.href?e?"text-slate-900 font-semibold":"text-white font-semibold":e?"text-slate-700 hover:text-slate-900":"text-white/90 hover:text-white"),children:[s.label,(0,t.jsx)("span",{className:"absolute -bottom-1 left-0 h-0.5 transition-all duration-300 ".concat(g===s.href?"w-full bg-gradient-to-r from-[#d4af37] to-[#f4d03f]":"w-0 bg-gradient-to-r from-[#d4af37] to-[#f4d03f] group-hover:w-full")})]},s.href))}),(0,t.jsx)("div",{className:"hidden lg:flex items-center justify-end gap-4",children:(0,t.jsx)(i(),{href:"/rooms",children:(0,t.jsxs)(c.$,{size:"sm",className:"booking-button tracking-wide",children:[(0,t.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Book Now"]})})}),(0,t.jsx)("div",{className:"lg:hidden flex justify-end",children:(0,t.jsx)("button",{onClick:()=>l(!a),className:"p-2 ".concat(e?"text-slate-900":"text-white"),children:a?(0,t.jsx)(h.A,{className:"w-6 h-6"}):(0,t.jsx)(f.A,{className:"w-6 h-6"})})})]})})}),a&&(0,t.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",style:{top:"112px"},children:(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-900/95 backdrop-blur-xl",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[b.map(e=>(0,t.jsx)(i(),{href:e.href,onClick:()=>l(!1),className:"text-lg tracking-wide uppercase transition-colors ".concat(g===e.href?"text-primary font-medium":"text-white hover:text-primary"),children:e.label},e.href)),(0,t.jsx)("div",{className:"pt-6 border-t border-white/10",children:(0,t.jsx)(i(),{href:"/rooms",onClick:()=>l(!1),children:(0,t.jsxs)(c.$,{className:"w-full booking-button",size:"lg",children:[(0,t.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Book Your Stay"]})})})]})})})})]})}}},e=>{e.O(0,[4174,6010,9015,3148,7811,2649,8441,1255,7358],()=>e(e.s=65904)),_N_E=e.O()}]);