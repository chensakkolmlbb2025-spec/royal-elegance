(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8407],{18201:(e,s,t)=>{Promise.resolve().then(t.bind(t,91265))},28171:(e,s,t)=>{"use strict";t.d(s,{dj:()=>x});var a=t(12115);let r=0,n=new Map,l=e=>{if(n.has(e))return;let s=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,s)},i=[],c={toasts:[]};function d(e){c=((e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?l(t):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}})(c,e),i.forEach(e=>{e(c)})}function o(e){let{...s}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function x(){let[e,s]=a.useState(c);return a.useEffect(()=>(i.push(s),()=>{let e=i.indexOf(s);e>-1&&i.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},54664:(e,s,t)=>{"use strict";t.d(s,{w:()=>l});var a=t(95155);t(12115);var r=t(47321),n=t(25016);function l(e){let{className:s,orientation:t="horizontal",decorative:l=!0,...i}=e;return(0,a.jsx)(r.b,{"data-slot":"separator",decorative:l,orientation:t,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...i})}},67812:(e,s,t)=>{"use strict";t.d(s,{E:()=>c});var a=t(95155);t(12115);var r=t(17129),n=t(83101),l=t(25016);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:t,asChild:n=!1,...c}=e,d=n?r.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,l.cn)(i({variant:t}),s),...c})}},83209:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>l,wL:()=>o});var a=t(95155);t(12115);var r=t(25016);function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",s),...t})}},90923:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>c,av:()=>d,j7:()=>i,tU:()=>l});var a=t(95155);t(12115);var r=t(55195),n=t(25016);function l(e){let{className:s,...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,n.cn)("tabs-list inline-flex h-11 w-fit items-center justify-center rounded-xl p-2",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("tabs-trigger inline-flex h-8 flex-1 items-center justify-center gap-1.5 rounded-lg px-3 py-1.5 text-sm font-medium whitespace-nowrap transition-all duration-300 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",s),...t})}},91265:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>M});var a=t(95155),r=t(12115),n=t(20063),l=t(8525),i=t(91753),c=t(83209),d=t(90923),o=t(67812),x=t(97003),m=t(54664),h=t(4939),u=t(61362),g=t(26983),p=t(78874),f=t(15815),j=t(95740),N=t(16485),b=t(6132),v=t(91169),w=t(91761),y=t(21873),k=t(12108),A=t(24033),S=t(28171),D=t(29921),_=t(25016);function E(e){let{...s}=e;return(0,a.jsx)(D.bL,{"data-slot":"alert-dialog",...s})}function T(e){let{...s}=e;return(0,a.jsx)(D.l9,{"data-slot":"alert-dialog-trigger",...s})}function I(e){let{...s}=e;return(0,a.jsx)(D.ZL,{"data-slot":"alert-dialog-portal",...s})}function O(e){let{className:s,...t}=e;return(0,a.jsx)(D.hJ,{"data-slot":"alert-dialog-overlay",className:(0,_.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function C(e){let{className:s,...t}=e;return(0,a.jsxs)(I,{children:[(0,a.jsx)(O,{}),(0,a.jsx)(D.UC,{"data-slot":"alert-dialog-content",className:(0,_.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...t})]})}function P(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,_.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function R(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,_.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function B(e){let{className:s,...t}=e;return(0,a.jsx)(D.hE,{"data-slot":"alert-dialog-title",className:(0,_.cn)("text-lg font-semibold",s),...t})}function L(e){let{className:s,...t}=e;return(0,a.jsx)(D.VY,{"data-slot":"alert-dialog-description",className:(0,_.cn)("text-muted-foreground text-sm",s),...t})}function $(e){let{className:s,...t}=e;return(0,a.jsx)(D.rc,{className:(0,_.cn)((0,x.r)(),s),...t})}function U(e){let{className:s,...t}=e;return(0,a.jsx)(D.ZD,{className:(0,_.cn)((0,x.r)({variant:"outline"}),s),...t})}function M(){let[e,s]=(0,r.useState)(null),[t,D]=(0,r.useState)(!0),_=(0,n.useRouter)(),{toast:I}=(0,S.dj)(),O=(0,l.U)(),[M,z]=(0,r.useState)([]),[G,H]=(0,r.useState)([]),[Z,W]=(0,r.useState)([]),[Y,V]=(0,r.useState)([]),[F,X]=(0,r.useState)(!0),[q,K]=(0,r.useState)(new Set),J=e=>{K(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t})};(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await O.auth.getUser();if(!e)return _.push("/login");s(e),D(!1)})();let{data:{subscription:e}}=O.auth.onAuthStateChange((e,t)=>{var a;s(null!=(a=null==t?void 0:t.user)?a:null),(null==t?void 0:t.user)||_.push("/login")});return()=>e.unsubscribe()},[O,_]),(0,r.useEffect)(()=>{let s=async()=>{if(e)try{let{data:s,error:t}=await O.from("bookings").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(t)throw t;let a=s.map(e=>({...e,id:e.id,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),checkInDate:new Date(e.check_in_date),checkOutDate:new Date(e.check_out_date),checkIn:new Date(e.check_in_date),checkOut:new Date(e.check_out_date),floorId:e.floor_id,roomTypeId:e.room_type_id,roomId:e.room_id,userId:e.user_id,guestName:e.guest_name,guestEmail:e.guest_email,guestPhone:e.guest_phone,guestCount:e.guest_count,guests:e.guest_count,bookingReference:e.booking_reference,paymentMethod:e.payment_method,paidAmount:e.paid_amount,paymentStatus:e.payment_status,bookingType:e.room_id?"room":"service",totalPrice:e.total_price,status:e.status,services:e.services||[]})),[r,n,l]=await Promise.all([(0,h.t8)(),(0,h.RK)(),(0,h.Z1)()]);z(a),H(r),W(n),V(l),console.log("=== BOOKINGS PAGE DATA ==="),console.log("Loaded bookings:",a.length),console.log("Bookings details:",a.map(e=>({id:e.id,reference:e.bookingReference,status:e.status,checkIn:e.checkIn,checkOut:e.checkOut,guestName:e.guestName,totalPrice:e.totalPrice}))),console.log("==========================")}catch(e){console.error("Error fetching bookings:",e),I({title:"Error",description:"Failed to load your bookings. Please try again.",variant:"destructive"})}finally{X(!1)}};if(e){s();let t=O.channel("bookings-changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:"user_id=eq.".concat(e.id)},e=>{console.log("[Realtime] Booking change detected:",e),s()}).subscribe();return()=>{t.unsubscribe()}}},[e,I,O]);let Q=e=>{if(!e.roomId)return null;let s=G.find(s=>s.id===e.roomId);return s?Z.find(e=>e.id===s.roomTypeId):null},ee=e=>Y.filter(s=>e.services.includes(s.id)),es=async e=>{console.log("Attempting to cancel booking with ID:",e),console.log("Booking ID type:",typeof e),console.log("Current bookings:",M.map(e=>({id:e.id,idType:typeof e.id,status:e.status,userId:e.userId,guestName:e.guestName}))),console.log("Target booking found in local state:",M.find(s=>s.id===e));try{let s=await (0,h.vq)(e,{status:"cancelled"});console.log("Successfully updated booking:",s),z(M.map(t=>t.id===e?s:t)),I({title:"Booking cancelled successfully",description:"Booking ".concat(s.bookingReference||s.id," has been cancelled.")})}catch(t){console.error("Error cancelling booking:",t),console.error("Booking ID that failed:",e);let s="Failed to cancel booking. Please try again.";t instanceof Error?s=t.message:t&&"object"==typeof t&&"message"in t?s=String(t.message):t&&"object"==typeof t&&"error"in t&&(s=String(t.error)),I({title:"Error cancelling booking",description:s,variant:"destructive"})}},et=M.filter(e=>{if("cancelled"===e.status)return!1;let s=new Date(e.checkOut),t=new Date;s.setHours(0,0,0,0),t.setHours(0,0,0,0);let a=s>=t;return console.log("Booking check:",{id:e.id,reference:e.bookingReference,status:e.status,checkIn:e.checkIn,checkOut:e.checkOut,checkOutDate:s,now:t,isUpcoming:a}),a}),ea=M.filter(e=>{if("cancelled"===e.status)return!1;let s=new Date(e.checkOut),t=new Date;return s.setHours(0,0,0,0),t.setHours(0,0,0,0),s<t||"checked_out"===e.status||"no_show"===e.status}),er=M.filter(e=>"cancelled"===e.status),en=M.filter(e=>{if("cancelled"===e.status||"service"===e.bookingType)return!1;let s=new Date(e.checkOut),t=new Date;return s.setHours(0,0,0,0),t.setHours(0,0,0,0),s<t||"checked_out"===e.status}),el=e=>{let s={confirmed:{variant:"default",icon:u.A,label:"Confirmed"},pending:{variant:"secondary",icon:g.A,label:"Pending"},cancelled:{variant:"destructive",icon:p.A,label:"Cancelled"},completed:{variant:"outline",icon:u.A,label:"Completed"}},t=s[e]||s.pending,r=t.icon;return(0,a.jsxs)(o.E,{variant:t.variant,className:"gap-1",children:[(0,a.jsx)(r,{className:"w-3 h-3"}),t.label]})},ei=e=>{let s={room:{icon:f.A,label:"Room Booking",className:"bg-blue-500/20 text-blue-700"},service:{icon:j.A,label:"Service Booking",className:"bg-purple-500/20 text-purple-700"},both:{icon:f.A,label:"Room + Services",className:"bg-green-500/20 text-green-700"}},t=s[e]||s.room,r=t.icon;return(0,a.jsxs)(o.E,{className:"gap-1 ".concat(t.className),children:[(0,a.jsx)(r,{className:"w-3 h-3"}),t.label]})};return t||F?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-accent/5 to-background",children:[(0,a.jsx)(i.S,{}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8 space-y-8",style:{marginTop:"112px"},children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h1",{className:"text-4xl font-display font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"My Bookings"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"View and manage all your reservations and booking history"}),M.length>0&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Total bookings: ",(0,a.jsx)("span",{className:"font-semibold text-foreground",children:M.length})]})]}),(0,a.jsxs)(x.$,{variant:"outline",onClick:()=>{X(!0),(async()=>{if(e)try{let{data:s,error:t}=await O.from("bookings").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(t)throw t;let a=s.map(e=>({...e,id:e.id,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),checkInDate:new Date(e.check_in_date),checkOutDate:new Date(e.check_out_date),checkIn:new Date(e.check_in_date),checkOut:new Date(e.check_out_date),floorId:e.floor_id,roomTypeId:e.room_type_id,roomId:e.room_id,userId:e.user_id,guestName:e.guest_name,guestEmail:e.guest_email,guestPhone:e.guest_phone,guestCount:e.guest_count,guests:e.guest_count,bookingReference:e.booking_reference,paymentMethod:e.payment_method,paidAmount:e.paid_amount,paymentStatus:e.payment_status,bookingType:e.room_id?"room":"service",totalPrice:e.total_price,status:e.status,services:e.services||[]}));z(a);let r=a.filter(e=>"cancelled"!==e.status&&new Date(e.checkIn)>new Date).length,n=a.filter(e=>"checked_out"===e.status||"no_show"===e.status||new Date(e.checkOut)<new Date).length,l=a.filter(e=>"cancelled"===e.status).length;I({title:"Refreshed",description:"Total: ".concat(a.length," bookings (").concat(r," upcoming, ").concat(n," history, ").concat(l," cancelled)")})}catch(e){console.error("Error fetching bookings:",e),I({title:"Error",description:"Failed to refresh bookings",variant:"destructive"})}finally{X(!1)}})()},className:"gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),(0,a.jsxs)(d.tU,{defaultValue:"upcoming",className:"space-y-6",children:[(0,a.jsxs)(d.j7,{className:"glass-card",children:[(0,a.jsxs)(d.Xi,{value:"upcoming",className:"gap-2",children:[(0,a.jsx)(N.A,{className:"w-4 h-4"}),"Upcoming (",et.length,")"]}),(0,a.jsxs)(d.Xi,{value:"history",className:"gap-2",children:[(0,a.jsx)(g.A,{className:"w-4 h-4"}),"Booking History (",ea.length,")"]}),(0,a.jsxs)(d.Xi,{value:"cancelled",className:"gap-2",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),"Cancelled (",er.length,")"]}),(0,a.jsxs)(d.Xi,{value:"stays",className:"gap-2",children:[(0,a.jsx)(f.A,{className:"w-4 h-4"}),"Stay History (",en.length,")"]})]}),(0,a.jsx)(d.av,{value:"upcoming",className:"space-y-4",children:0===et.length?(0,a.jsx)(c.Zp,{className:"glass-card",children:(0,a.jsxs)(c.Wu,{className:"py-12 text-center",children:[(0,a.jsx)(N.A,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No Upcoming Bookings"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:"You don't have any upcoming reservations. Start planning your next stay!"}),(0,a.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,a.jsxs)(x.$,{onClick:()=>_.push("/rooms"),children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Browse Rooms"]}),(0,a.jsxs)(x.$,{variant:"outline",onClick:()=>_.push("/services"),children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Browse Services"]})]})]})}):et.map(e=>{var s;let t=Q(e),r=ee(e),n=Math.ceil((new Date(e.checkOut).getTime()-new Date(e.checkIn).getTime())/864e5),l=new Date(e.checkIn),i=new Date(e.checkOut),d=Math.ceil((l.getTime()-new Date().getTime())/864e5),h=q.has(e.id);return(0,a.jsxs)(c.Zp,{className:"glass-card overflow-hidden border-2 border-[#d4af37]/20 hover:border-[#d4af37]/40 transition-all duration-300 hover:shadow-lg",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 text-white p-4 relative overflow-hidden cursor-pointer",onClick:()=>J(e.id),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('/luxury-hotel-lobby.png')] opacity-10 bg-cover bg-center"}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-48 h-48 bg-[#d4af37]/10 rounded-full blur-3xl"}),(0,a.jsxs)("div",{className:"relative z-10 flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[ei(e.bookingType),el(e.status),d<=7&&d>0&&(0,a.jsxs)(o.E,{className:"bg-[#d4af37] text-black gap-1 animate-pulse",children:[(0,a.jsx)(b.A,{className:"w-3 h-3"}),d," days away"]})]}),(0,a.jsx)("h3",{className:"text-xl font-display text-white font-semibold",children:t?t.name:(null==(s=r[0])?void 0:s.name)||"Service Booking"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-white/70",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(N.A,{className:"w-3.5 h-3.5 text-[#d4af37]"}),l.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",i.toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(g.A,{className:"w-3.5 h-3.5 text-[#d4af37]"}),n," ",1===n?"Night":"Nights"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"w-3.5 h-3.5 text-[#d4af37]"}),e.guests," ",1===e.guests?"Guest":"Guests"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-[#d4af37]",children:["$",e.totalPrice]}),(0,a.jsx)("p",{className:"text-xs text-white/60",children:"Total Amount"})]}),(0,a.jsx)(x.$,{variant:"outline",size:"sm",className:"border-[#d4af37] text-[#000000] hover:bg-[#d4af37] hover:text-black transition-all",onClick:s=>{s.stopPropagation(),J(e.id)},children:h?"Hide Details":"View Details"})]})]})]}),h&&(0,a.jsxs)(c.Wu,{className:"p-6 space-y-6 animate-in slide-in-from-top duration-300",children:[(0,a.jsx)("div",{className:"glass-card p-5 border border-[#d4af37]/20",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wider text-muted-foreground font-semibold",children:"Check-In"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg bg-gradient-to-br from-[#d4af37]/20 to-[#d4af37]/5",children:(0,a.jsx)(N.A,{className:"w-5 h-5 text-[#d4af37]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-lg",children:l.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:l.toLocaleDateString("en-US",{weekday:"long"})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wider text-muted-foreground font-semibold",children:"Check-Out"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg bg-gradient-to-br from-[#d4af37]/20 to-[#d4af37]/5",children:(0,a.jsx)(N.A,{className:"w-5 h-5 text-[#d4af37]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-lg",children:i.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:i.toLocaleDateString("en-US",{weekday:"long"})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wider text-muted-foreground font-semibold",children:"Duration"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg bg-gradient-to-br from-blue-500/20 to-blue-500/5",children:(0,a.jsx)(g.A,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-bold text-lg",children:[n," ",1===n?"Night":"Nights"]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.guests," ",1===e.guests?"Guest":"Guests"]})]})]})]})]})}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"glass-card p-4 space-y-3 border border-slate-200",children:[(0,a.jsxs)("h4",{className:"font-semibold flex items-center gap-2 text-sm uppercase tracking-wider text-slate-700",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 text-[#d4af37]"}),"Guest Information"]}),(0,a.jsx)(m.w,{}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Name:"}),(0,a.jsx)("span",{className:"font-semibold",children:e.guestName})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Email:"}),(0,a.jsx)("span",{className:"font-mono text-xs",children:e.guestEmail})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Phone:"}),(0,a.jsx)("span",{className:"font-semibold",children:e.guestPhone})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Total Guests:"}),(0,a.jsxs)("span",{className:"font-semibold",children:[e.guestCount," ",1===e.guestCount?"person":"people"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Booking Ref:"}),(0,a.jsx)("span",{className:"font-mono text-xs font-bold text-[#d4af37]",children:e.bookingReference})]})]})]}),(0,a.jsxs)("div",{className:"glass-card p-4 space-y-3 border border-green-200 bg-green-50/50",children:[(0,a.jsxs)("h4",{className:"font-semibold flex items-center gap-2 text-sm uppercase tracking-wider text-green-800",children:[(0,a.jsx)(w.A,{className:"w-4 h-4 text-green-600"}),"Payment Details"]}),(0,a.jsx)(m.w,{}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Method:"}),(0,a.jsx)(o.E,{variant:"outline",className:"capitalize",children:e.paymentMethod})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,a.jsxs)(o.E,{className:"bg-green-600 text-white capitalize",children:[(0,a.jsx)(u.A,{className:"w-3 h-3 mr-1"}),e.paymentStatus]})]}),(0,a.jsx)(m.w,{}),(0,a.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[(0,a.jsx)("span",{className:"text-muted-foreground font-semibold",children:"Total Amount:"}),(0,a.jsxs)("span",{className:"font-bold text-2xl text-green-700",children:["$",e.totalPrice]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Paid Amount:"}),(0,a.jsxs)("span",{className:"font-semibold text-green-600",children:["$",e.paidAmount||e.totalPrice]})]})]})]})]}),t&&(0,a.jsxs)("div",{className:"glass-card p-4 space-y-3 border border-[#d4af37]/30 bg-gradient-to-br from-[#d4af37]/5 to-transparent",children:[(0,a.jsxs)("h4",{className:"font-semibold flex items-center gap-2 text-sm uppercase tracking-wider text-slate-700",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 text-[#d4af37]"}),"Room Details"]}),(0,a.jsx)(m.w,{}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-[#d4af37] rounded-full mt-1.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Room Type"}),(0,a.jsx)("p",{className:"font-semibold",children:t.name})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-[#d4af37] rounded-full mt-1.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Base Price"}),(0,a.jsxs)("p",{className:"font-semibold",children:["$",t.basePrice,"/night"]})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-[#d4af37] rounded-full mt-1.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Max Occupancy"}),(0,a.jsxs)("p",{className:"font-semibold",children:[t.maxOccupancy," guests"]})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-[#d4af37] rounded-full mt-1.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Booking Date"}),(0,a.jsx)("p",{className:"font-semibold text-xs",children:new Date(e.createdAt).toLocaleDateString()})]})]})]})]}),r.length>0&&(0,a.jsxs)("div",{className:"glass-card p-4 space-y-3 border border-purple-200 bg-purple-50/30",children:[(0,a.jsxs)("h4",{className:"font-semibold flex items-center gap-2 text-sm uppercase tracking-wider text-purple-800",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 text-purple-600"}),"Additional Services (",r.length,")"]}),(0,a.jsx)(m.w,{}),(0,a.jsx)("div",{className:"grid md:grid-cols-2 gap-3",children:r.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white border border-purple-200 hover:border-purple-400 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-purple-100",children:(0,a.jsx)(j.A,{className:"w-4 h-4 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-sm",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-1",children:e.description})]})]}),(0,a.jsxs)(o.E,{variant:"secondary",className:"ml-2",children:["$",e.price]})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,a.jsxs)(x.$,{variant:"outline",className:"flex-1 border-[#d4af37] text-[#d4af37] hover:bg-[#d4af37] hover:text-white transition-all",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"View Room Details"]}),(0,a.jsxs)(x.$,{className:"flex-1 bg-gradient-to-r from-slate-900 to-slate-700 hover:from-slate-800 hover:to-slate-600",children:[(0,a.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Get Directions"]}),"confirmed"===e.status&&(0,a.jsxs)(E,{children:[(0,a.jsx)(T,{asChild:!0,children:(0,a.jsxs)(x.$,{variant:"destructive",className:"shadow-lg",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-1"}),"Cancel Booking"]})}),(0,a.jsxs)(C,{className:"glass-card",children:[(0,a.jsxs)(P,{children:[(0,a.jsx)(B,{children:"Cancel Booking?"}),(0,a.jsx)(L,{children:"Are you sure you want to cancel this booking? This action cannot be undone."})]}),(0,a.jsxs)(R,{children:[(0,a.jsx)(U,{children:"Keep Booking"}),(0,a.jsx)($,{onClick:()=>es(e.id),children:"Yes, Cancel"})]})]})]})]})]})]},e.id)})}),(0,a.jsx)(d.av,{value:"history",className:"space-y-4",children:0===ea.length?(0,a.jsx)(c.Zp,{className:"glass-card",children:(0,a.jsxs)(c.Wu,{className:"py-12 text-center",children:[(0,a.jsx)(g.A,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No Booking History"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Your past bookings will appear here once you complete your first reservation."})]})}):ea.map(e=>{var s;let t=Q(e),r=ee(e),n=Math.ceil((new Date(e.checkOut).getTime()-new Date(e.checkIn).getTime())/864e5),l=new Date(e.checkIn),i=new Date(e.checkOut),d=q.has(e.id);return(0,a.jsxs)(c.Zp,{className:"glass-card overflow-hidden border border-slate-200 hover:border-slate-300 transition-all duration-300",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-slate-100 via-slate-50 to-slate-100 p-3 border-b cursor-pointer hover:bg-slate-100 transition-colors",onClick:()=>J(e.id),children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[ei(e.bookingType),el(e.status)]}),(0,a.jsx)("h3",{className:"text-base font-display font-semibold",children:t?t.name:(null==(s=r[0])?void 0:s.name)||"Service Booking"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-mono font-semibold text-[#d4af37]",children:e.bookingReference}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[l.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",i.toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[n,"N • ",e.guests,"G"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-lg font-bold text-green-700",children:["$",e.totalPrice]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Paid"})]}),(0,a.jsx)(x.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),J(e.id)},children:d?(0,a.jsx)(k.A,{className:"w-5 h-5"}):(0,a.jsx)(A.A,{className:"w-5 h-5"})})]})]})}),d&&(0,a.jsxs)(c.Wu,{className:"p-4 space-y-4 animate-in slide-in-from-top duration-300",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-slate-100",children:(0,a.jsx)(f.A,{className:"w-4 h-4 text-slate-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Duration"}),(0,a.jsxs)("p",{className:"font-semibold",children:[n," ",1===n?"Night":"Nights"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-slate-100",children:(0,a.jsx)(v.A,{className:"w-4 h-4 text-slate-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Guests"}),(0,a.jsx)("p",{className:"font-semibold",children:e.guests})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-green-100",children:(0,a.jsx)(w.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Paid"}),(0,a.jsxs)("p",{className:"font-bold text-green-700",children:["$",e.totalPrice]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-blue-100",children:(0,a.jsx)(N.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Booked On"}),(0,a.jsx)("p",{className:"font-semibold text-xs",children:new Date(e.createdAt).toLocaleDateString()})]})]})]}),r.length>0&&(0,a.jsxs)("div",{className:"pt-2 border-t",children:[(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[(0,a.jsx)(j.A,{className:"w-3 h-3"}),"Additional Services (",r.length,")"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>(0,a.jsxs)(o.E,{variant:"secondary",className:"text-xs",children:[e.name," • $",e.price]},e.id))})]}),(0,a.jsxs)("div",{className:"pt-2 border-t text-xs space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Guest:"}),(0,a.jsx)("span",{className:"font-semibold",children:e.guestName})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Email:"}),(0,a.jsx)("span",{className:"font-mono text-xs",children:e.guestEmail})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Phone:"}),(0,a.jsx)("span",{className:"font-semibold",children:e.guestPhone})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Payment:"}),(0,a.jsx)(o.E,{variant:"outline",className:"text-xs capitalize",children:e.paymentMethod})]})]})]})]},e.id)})}),(0,a.jsx)(d.av,{value:"cancelled",className:"space-y-4",children:0===er.length?(0,a.jsx)(c.Zp,{className:"glass-card",children:(0,a.jsxs)(c.Wu,{className:"py-12 text-center",children:[(0,a.jsx)(p.A,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No Cancelled Bookings"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"You haven't cancelled any bookings. All your reservations are active!"})]})}):er.map(e=>{var s;let t=Q(e),r=ee(e),n=Math.ceil((new Date(e.checkOut).getTime()-new Date(e.checkIn).getTime())/864e5),l=new Date(e.checkIn),i=new Date(e.checkOut),d=q.has(e.id);return(0,a.jsxs)(c.Zp,{className:"glass-card overflow-hidden border border-red-200 hover:border-red-300 transition-all duration-300 opacity-75",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-red-50 via-red-50/50 to-red-50 p-3 border-b border-red-200 cursor-pointer hover:bg-red-100/50 transition-colors",onClick:()=>J(e.id),children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[ei(e.bookingType),el(e.status),(0,a.jsx)(o.E,{variant:"outline",className:"text-xs text-red-600 border-red-300",children:"Refund Pending"})]}),(0,a.jsx)("h3",{className:"text-base font-display font-semibold text-red-900",children:t?t.name:(null==(s=r[0])?void 0:s.name)||"Service Booking"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-mono font-semibold text-red-600",children:e.bookingReference}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[l.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",i.toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[n,"N • ",e.guests,"G"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{className:"text-red-600",children:["Cancelled ",new Date(e.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-lg font-bold text-red-600 line-through",children:["$",e.totalPrice]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cancelled"})]}),(0,a.jsx)(x.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),J(e.id)},children:d?(0,a.jsx)(k.A,{className:"w-5 h-5"}):(0,a.jsx)(A.A,{className:"w-5 h-5"})})]})]})}),d&&(0,a.jsxs)(c.Wu,{className:"p-4 space-y-4 bg-red-50/30 animate-in slide-in-from-top duration-300",children:[(0,a.jsx)("div",{className:"glass-card p-4 border border-red-200 bg-red-50",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-red-100",children:(0,a.jsx)(p.A,{className:"w-5 h-5 text-red-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-semibold text-red-900 mb-1",children:"Booking Cancelled"}),(0,a.jsxs)("p",{className:"text-sm text-red-700",children:["This booking was cancelled on ",new Date(e.updatedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),". Refund processing typically takes 5-7 business days."]})]})]})}),(0,a.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-slate-100",children:(0,a.jsx)(f.A,{className:"w-4 h-4 text-slate-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Duration"}),(0,a.jsxs)("p",{className:"font-semibold",children:[n," ",1===n?"Night":"Nights"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-slate-100",children:(0,a.jsx)(v.A,{className:"w-4 h-4 text-slate-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Guests"}),(0,a.jsx)("p",{className:"font-semibold",children:e.guests})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-red-100",children:(0,a.jsx)(w.A,{className:"w-4 h-4 text-red-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Amount"}),(0,a.jsxs)("p",{className:"font-bold text-red-600 line-through",children:["$",e.totalPrice]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-blue-100",children:(0,a.jsx)(N.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Booked On"}),(0,a.jsx)("p",{className:"font-semibold text-xs",children:new Date(e.createdAt).toLocaleDateString()})]})]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Original Reservation Dates:"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 text-slate-500"}),(0,a.jsx)("span",{className:"font-medium",children:"Check-in:"}),(0,a.jsx)("span",{children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),(0,a.jsx)("span",{children:"→"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 text-slate-500"}),(0,a.jsx)("span",{className:"font-medium",children:"Check-out:"}),(0,a.jsx)("span",{children:i.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]})]}),t&&(0,a.jsxs)("div",{className:"pt-2 border-t",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Room Type:"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 text-[#d4af37]"}),(0,a.jsx)("span",{className:"font-semibold",children:t.name}),(0,a.jsxs)(o.E,{variant:"secondary",className:"text-xs",children:["$",t.basePrice,"/night"]})]})]}),r.length>0&&(0,a.jsxs)("div",{className:"pt-2 border-t",children:[(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[(0,a.jsx)(j.A,{className:"w-3 h-3"}),"Services Included (",r.length,")"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>(0,a.jsxs)(o.E,{variant:"secondary",className:"text-xs",children:[e.name," • $",e.price]},e.id))})]}),(0,a.jsxs)("div",{className:"pt-2 border-t text-xs space-y-1",children:[(0,a.jsx)("p",{className:"text-muted-foreground font-semibold mb-2",children:"Guest Information:"}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Name:"}),(0,a.jsx)("span",{className:"font-semibold",children:e.guestName})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Email:"}),(0,a.jsx)("span",{className:"font-mono text-xs",children:e.guestEmail})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Phone:"}),(0,a.jsx)("span",{className:"font-semibold",children:e.guestPhone})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Payment Method:"}),(0,a.jsx)(o.E,{variant:"outline",className:"text-xs capitalize",children:e.paymentMethod})]})]}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsxs)(x.$,{variant:"outline",className:"w-full border-[#d4af37] text-[#d4af37] hover:bg-[#d4af37] hover:text-white transition-all",onClick:()=>_.push("/rooms"),children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Book Similar Room"]})})]})]},e.id)})}),(0,a.jsx)(d.av,{value:"stays",className:"space-y-4",children:0===en.length?(0,a.jsx)(c.Zp,{className:"glass-card",children:(0,a.jsxs)(c.Wu,{className:"py-12 text-center",children:[(0,a.jsx)(f.A,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No Stay History"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Your completed hotel stays will appear here."})]})}):en.map(e=>{let s=Q(e),t=Math.ceil((new Date(e.checkOut).getTime()-new Date(e.checkIn).getTime())/864e5),r=new Date(e.checkIn),n=new Date(e.checkOut),l=ee(e),i=q.has(e.id);return(0,a.jsxs)(c.Zp,{className:"glass-card overflow-hidden border border-[#d4af37]/20 hover:border-[#d4af37]/40 transition-all duration-300",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-[#d4af37]/10 via-white to-[#d4af37]/10 p-3 border-b border-[#d4af37]/20 cursor-pointer hover:from-[#d4af37]/15 hover:to-[#d4af37]/15 transition-colors",onClick:()=>J(e.id),children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[el(e.status),(0,a.jsxs)(o.E,{className:"bg-[#d4af37]/20 text-[#d4af37] border-[#d4af37]/30 text-xs",children:[(0,a.jsx)(u.A,{className:"w-3 h-3 mr-1"}),"Completed"]})]}),(0,a.jsxs)("h3",{className:"text-base font-display font-semibold flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 text-[#d4af37]"}),(null==s?void 0:s.name)||"Room Stay"]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:[r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"})," → ",n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"})]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[t,"N • ",e.guests,"G"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"font-mono text-[#d4af37]",children:e.bookingReference})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-lg font-bold text-green-700",children:["$",e.totalPrice]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["$",Math.round(e.totalPrice/t),"/night"]})]}),(0,a.jsx)(x.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),J(e.id)},children:i?(0,a.jsx)(k.A,{className:"w-5 h-5 text-[#d4af37]"}):(0,a.jsx)(A.A,{className:"w-5 h-5 text-[#d4af37]"})})]})]})}),i&&(0,a.jsxs)(c.Wu,{className:"p-5 space-y-4 animate-in slide-in-from-top duration-300",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"glass-card p-4 border border-slate-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2.5 rounded-lg bg-gradient-to-br from-blue-500/20 to-blue-500/5",children:(0,a.jsx)(g.A,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Nights"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:t})]})]})}),(0,a.jsx)("div",{className:"glass-card p-4 border border-slate-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2.5 rounded-lg bg-gradient-to-br from-purple-500/20 to-purple-500/5",children:(0,a.jsx)(v.A,{className:"w-5 h-5 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Guests"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.guests})]})]})}),(0,a.jsx)("div",{className:"glass-card p-4 border border-green-200 bg-green-50/50",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2.5 rounded-lg bg-gradient-to-br from-green-500/20 to-green-500/5",children:(0,a.jsx)(w.A,{className:"w-5 h-5 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Total"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-700",children:["$",e.totalPrice]})]})]})}),(0,a.jsx)("div",{className:"glass-card p-4 border border-[#d4af37]/30 bg-[#d4af37]/5",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2.5 rounded-lg bg-gradient-to-br from-[#d4af37]/30 to-[#d4af37]/10",children:(0,a.jsx)(f.A,{className:"w-5 h-5 text-[#d4af37]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Avg/Night"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-[#d4af37]",children:["$",Math.round(e.totalPrice/t)]})]})]})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[s&&(0,a.jsxs)("div",{className:"glass-card p-4 border border-slate-200 space-y-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-sm uppercase tracking-wider flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 text-[#d4af37]"}),"Room Information"]}),(0,a.jsx)(m.w,{}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Type:"}),(0,a.jsx)("span",{className:"font-semibold",children:s.name})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Base Rate:"}),(0,a.jsxs)("span",{className:"font-semibold",children:["$",s.basePrice,"/night"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Max Occupancy:"}),(0,a.jsxs)("span",{className:"font-semibold",children:[s.maxOccupancy," guests"]})]})]})]}),(0,a.jsxs)("div",{className:"glass-card p-4 border border-slate-200 space-y-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-sm uppercase tracking-wider flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 text-green-600"}),"Booking Details"]}),(0,a.jsx)(m.w,{}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Reference:"}),(0,a.jsx)("span",{className:"font-mono font-semibold text-xs",children:e.bookingReference})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Guest Name:"}),(0,a.jsx)("span",{className:"font-semibold",children:e.guestName})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Payment:"}),(0,a.jsx)(o.E,{variant:"outline",className:"capitalize text-xs",children:e.paymentMethod})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Booked:"}),(0,a.jsx)("span",{className:"font-semibold text-xs",children:new Date(e.createdAt).toLocaleDateString()})]})]})]})]}),l.length>0&&(0,a.jsxs)("div",{className:"glass-card p-4 border border-purple-200 bg-purple-50/30 space-y-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-sm uppercase tracking-wider flex items-center gap-2 text-purple-800",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 text-purple-600"}),"Services Enjoyed (",l.length,")"]}),(0,a.jsx)(m.w,{}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:l.map(e=>(0,a.jsxs)(o.E,{variant:"secondary",className:"text-xs px-3 py-1",children:[e.name," • $",e.price]},e.id))})]}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsxs)(x.$,{variant:"outline",className:"w-full border-[#d4af37] text-[#d4af37] hover:bg-[#d4af37] hover:text-white transition-all",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Book This Room Again"]})})]})]},e.id)})})]})]})]})}},91753:(e,s,t)=>{"use strict";t.d(s,{S:()=>f});var a=t(95155),r=t(12115),n=t(52619),l=t.n(n),i=t(20063),c=t(97003),d=t(21873),o=t(69141),x=t(23664),m=t(20508),h=t(16485),u=t(65229),g=t(9540),p=t(8525);function f(){let[e,s]=(0,r.useState)(!1),[t,n]=(0,r.useState)(!1),[f,j]=(0,r.useState)(null),N=(0,i.usePathname)(),b=(0,p.U)();(0,r.useEffect)(()=>{let e=()=>{s(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await b.auth.getUser();j(e)})();let{data:{subscription:e}}=b.auth.onAuthStateChange((e,s)=>{var t;j(null!=(t=null==s?void 0:s.user)?t:null)});return()=>e.unsubscribe()},[b]);let v=[{href:"/",label:"Home"},{href:"/rooms",label:"Rooms & Suites"},{href:"/services",label:"Experiences"},{href:"/bookings",label:"My Reservations"}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-slate-900 text-white py-2 px-4 text-xs",children:(0,a.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("a",{href:"https://maps.google.com/?q=Royal+Elegance+Hotel",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,a.jsx)(d.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"123 Luxury Avenue, Downtown"})]}),(0,a.jsxs)("a",{href:"tel:+1234567890",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,a.jsx)(o.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"+1 (234) 567-890"})]}),(0,a.jsxs)("a",{href:"mailto:reservations@hotel.com",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,a.jsx)(x.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"reservations@hotel.com"})]})]}),(0,a.jsx)("div",{className:"flex gap-4 items-center",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{href:"/profile",className:"hover:text-primary transition-colors flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"hidden md:inline",children:"My Account"})]}),(0,a.jsx)("button",{onClick:async()=>{await b.auth.signOut(),window.location.href="/"},className:"hover:text-primary transition-colors",children:"Sign Out"})]}):(0,a.jsx)(l(),{href:"/login",className:"hover:text-primary transition-colors",children:"Sign In"})})]})}),(0,a.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500 ".concat(e?"glass-card border-b":"bg-transparent"),style:{top:e?"0":"32px"},children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 items-center h-20 gap-4",children:[(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsxs)(l(),{href:"/",className:"flex flex-col items-start group",children:[(0,a.jsx)("span",{className:"text-2xl font-display font-bold tracking-wider transition-all duration-300 ".concat(e?"text-slate-900":"text-white"," group-hover:accent-gold"),children:"ROYAL ELEGANCE"}),(0,a.jsx)("span",{className:"text-[10px] tracking-[0.3em] uppercase transition-all duration-300 ".concat(e?"text-slate-600":"text-white/80"," group-hover:text-[#d4af37]"),children:"Luxury Hotel & Residences"})]})}),(0,a.jsx)("div",{className:"hidden lg:flex items-center justify-center gap-8",children:v.map(s=>(0,a.jsxs)(l(),{href:s.href,className:"text-sm tracking-wide uppercase transition-all duration-300 relative group whitespace-nowrap ".concat(N===s.href?e?"text-slate-900 font-semibold":"text-white font-semibold":e?"text-slate-700 hover:text-slate-900":"text-white/90 hover:text-white"),children:[s.label,(0,a.jsx)("span",{className:"absolute -bottom-1 left-0 h-0.5 transition-all duration-300 ".concat(N===s.href?"w-full bg-gradient-to-r from-[#d4af37] to-[#f4d03f]":"w-0 bg-gradient-to-r from-[#d4af37] to-[#f4d03f] group-hover:w-full")})]},s.href))}),(0,a.jsx)("div",{className:"hidden lg:flex items-center justify-end gap-4",children:(0,a.jsx)(l(),{href:"/rooms",children:(0,a.jsxs)(c.$,{size:"sm",className:"booking-button tracking-wide",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Book Now"]})})}),(0,a.jsx)("div",{className:"lg:hidden flex justify-end",children:(0,a.jsx)("button",{onClick:()=>n(!t),className:"p-2 ".concat(e?"text-slate-900":"text-white"),children:t?(0,a.jsx)(u.A,{className:"w-6 h-6"}):(0,a.jsx)(g.A,{className:"w-6 h-6"})})})]})})}),t&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",style:{top:"112px"},children:(0,a.jsx)("div",{className:"absolute inset-0 bg-slate-900/95 backdrop-blur-xl",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[v.map(e=>(0,a.jsx)(l(),{href:e.href,onClick:()=>n(!1),className:"text-lg tracking-wide uppercase transition-colors ".concat(N===e.href?"text-primary font-medium":"text-white hover:text-primary"),children:e.label},e.href)),(0,a.jsx)("div",{className:"pt-6 border-t border-white/10",children:(0,a.jsx)(l(),{href:"/rooms",onClick:()=>n(!1),children:(0,a.jsxs)(c.$,{className:"w-full booking-button",size:"lg",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Book Your Stay"]})})})]})})})})]})}}},e=>{e.O(0,[4174,6010,9015,112,3148,8851,2649,8441,1255,7358],()=>e(e.s=18201)),_N_E=e.O()}]);