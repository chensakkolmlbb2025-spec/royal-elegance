(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8620],{9540:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},15815:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},18364:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var t=a(95155),l=a(20063),r=a(12115),i=a(8525),n=a(97003),o=a(16485),d=a(15815),c=a(95740),m=a(52619),h=a.n(m),x=a(15239),u=a(4939),f=a(91753);function p(){let e=(0,l.useRouter)(),[s,a]=(0,r.useState)(!1),[m,p]=(0,r.useState)(null),[g,j]=(0,r.useState)(!0),[b,v]=(0,r.useState)([]),[N,y]=(0,r.useState)([]),[w,k]=(0,r.useState)([]),[A,M]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{a(!0)},[]),(0,r.useEffect)(()=>{(async()=>{try{let s=(0,i.U)(),{data:{session:a}}=await s.auth.getSession();if(!(null==a?void 0:a.user))return void e.replace("/login");let{data:t}=await s.from("profiles").select("*").eq("id",a.user.id).single();t&&p({id:a.user.id,email:a.user.email||"",role:t.role||"user",fullName:t.full_name||"",phone:t.phone||"",emailConfirmed:null!==a.user.email_confirmed_at})}catch(s){console.error("Auth check error:",s),e.replace("/login")}finally{j(!1)}})()},[e]),(0,r.useEffect)(()=>{let e=async()=>{if(m)try{let[e,s,a]=await Promise.all([(0,u.rD)(m.id),(0,u.RK)(),(0,u.t8)()]);v(e),y(s),k(a)}catch(e){console.error("[v0] Error fetching data:",e)}finally{M(!1)}};m&&e()},[m]),(0,r.useEffect)(()=>{g||m?m&&"user"!==m.role&&e.push("/"):e.push("/")},[m,g,e]),!s||g||A||!m)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-accent/5 to-background",children:(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-[#d4af37] border-t-transparent rounded-full animate-spin"})});let S=b.filter(e=>{if("cancelled"===e.status)return!1;let s=new Date(e.checkOut),a=new Date;return s.setHours(0,0,0,0),a.setHours(0,0,0,0),s>=a});return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-accent/5 to-background",children:[(0,t.jsx)(f.S,{}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-12",style:{marginTop:"112px"},children:[(0,t.jsxs)("div",{className:"mb-12 glass-banner border-0 p-8 rounded-2xl animate-fade-in-up",children:[(0,t.jsxs)("h1",{className:"text-4xl md:text-5xl font-display font-bold mb-4 text-balance text-slate-900",children:["Welcome back, ",(0,t.jsx)("span",{className:"info-badge",children:m.fullName||m.email})]}),(0,t.jsx)("p",{className:"text-xl text-muted-foreground text-pretty",children:"Manage your bookings and explore our luxury accommodations"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[(0,t.jsxs)(h(),{href:"/rooms",className:"group p-6 rounded-2xl glass-card border-0 hover:scale-105 transition-all duration-300 animate-fade-in-up",style:{animationDelay:"0.1s"},children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl glass flex items-center justify-center mb-4 group-hover:scale-110 transition-transform border border-[#d4af37]/30",children:(0,t.jsx)(o.A,{className:"w-6 h-6 text-[#d4af37]"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2 group-hover:text-[#d4af37] transition-colors",children:"Book a Room"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Browse available rooms and make a reservation"})]}),(0,t.jsxs)("div",{className:"p-6 rounded-2xl glass-card border-0 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl glass flex items-center justify-center mb-4 border border-[#d4af37]/30",children:(0,t.jsx)(d.A,{className:"w-6 h-6 text-[#d4af37]"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"My Bookings"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,t.jsx)("span",{className:"info-badge font-bold",children:S.length})," upcoming ",1===S.length?"reservation":"reservations"]})]}),(0,t.jsxs)("div",{className:"p-6 rounded-2xl glass-card border-0 animate-fade-in-up",style:{animationDelay:"0.3s"},children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl glass flex items-center justify-center mb-4 border border-[#d4af37]/30",children:(0,t.jsx)(c.A,{className:"w-6 h-6 text-[#d4af37]"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Loyalty Points"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Earn rewards with every stay"})]})]}),(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-display font-bold mb-6",children:"Upcoming Reservations"}),0===S.length?(0,t.jsxs)("div",{className:"p-12 rounded-2xl glass-card border-0 text-center animate-fade-in-scale",children:[(0,t.jsx)(o.A,{className:"w-16 h-16 text-[#d4af37] mx-auto mb-4 opacity-70"}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No upcoming bookings"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"Start planning your next luxury getaway"}),(0,t.jsx)(h(),{href:"/rooms",children:(0,t.jsx)(n.$,{className:"glass-button hover:border-[#d4af37]",children:"Browse Rooms"})})]}):(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:S.map((e,s)=>{let a=(e=>{let s=w.find(s=>s.id===e.roomId);return s?N.find(e=>e.id===s.roomTypeId):null})(e);return a?(0,t.jsx)("div",{className:"p-6 rounded-2xl glass-card border-0 hover:scale-105 transition-all duration-300 animate-fade-in-up",style:{animationDelay:"".concat(.1*s,"s")},children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(null==a?void 0:a.images[0])&&(0,t.jsx)("div",{className:"relative w-24 h-24 rounded-xl overflow-hidden flex-shrink-0",children:(0,t.jsx)(x.default,{src:a.images[0]||"/placeholder.svg",alt:a.name,fill:!0,className:"object-cover"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-1",children:null==a?void 0:a.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-3",children:[new Date(e.checkIn).toLocaleDateString()," -"," ",new Date(e.checkOut).toLocaleDateString()]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"price-badge text-lg",children:["$",e.totalPrice]}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium glass capitalize ".concat("confirmed"===e.status?"bg-green-500/10 text-green-600":"bg-yellow-500/10 text-yellow-600"),children:e.status})]})]})]})},e.id):null})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-display font-bold mb-6",children:"Explore Our Rooms"}),(0,t.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:N.slice(0,3).map((e,s)=>(0,t.jsxs)("div",{className:"group rounded-2xl overflow-hidden glass-card border-0 hover:scale-105 transition-all duration-500 animate-fade-in-up",style:{animationDelay:"".concat(.1*s,"s")},children:[(0,t.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,t.jsx)(x.default,{src:e.images[0]||"/placeholder.svg",alt:e.name,fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-700"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-[#d4af37]/0 group-hover:bg-[#d4af37]/10 transition-all duration-500"})]}),(0,t.jsxs)("div",{className:"p-4 bg-white/95",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2 group-hover:text-[#d4af37] transition-colors",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"price-badge",children:["$",e.basePrice,(0,t.jsx)("span",{className:"text-xs font-normal text-white/80",children:"/night"})]}),(0,t.jsx)(h(),{href:"/rooms",children:(0,t.jsx)(n.$,{size:"sm",variant:"outline",className:"glass-button hover:border-[#d4af37]",children:"View Details"})})]})]})]},e.id))})]})]})]})}},21873:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},23664:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},69141:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},91132:(e,s,a)=>{Promise.resolve().then(a.bind(a,18364))},91753:(e,s,a)=>{"use strict";a.d(s,{S:()=>g});var t=a(95155),l=a(12115),r=a(52619),i=a.n(r),n=a(20063),o=a(97003),d=a(21873),c=a(69141),m=a(23664),h=a(20508),x=a(16485),u=a(65229),f=a(9540),p=a(8525);function g(){let[e,s]=(0,l.useState)(!1),[a,r]=(0,l.useState)(!1),[g,j]=(0,l.useState)(null),b=(0,n.usePathname)(),v=(0,p.U)();(0,l.useEffect)(()=>{let e=()=>{s(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,l.useEffect)(()=>{(async()=>{let{data:{user:e}}=await v.auth.getUser();j(e)})();let{data:{subscription:e}}=v.auth.onAuthStateChange((e,s)=>{var a;j(null!=(a=null==s?void 0:s.user)?a:null)});return()=>e.unsubscribe()},[v]);let N=[{href:"/",label:"Home"},{href:"/rooms",label:"Rooms & Suites"},{href:"/services",label:"Experiences"},{href:"/bookings",label:"My Reservations"}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-slate-900 text-white py-2 px-4 text-xs",children:(0,t.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsxs)("a",{href:"https://maps.google.com/?q=Royal+Elegance+Hotel",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,t.jsx)(d.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"123 Luxury Avenue, Downtown"})]}),(0,t.jsxs)("a",{href:"tel:+1234567890",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,t.jsx)(c.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"+1 (234) 567-890"})]}),(0,t.jsxs)("a",{href:"mailto:reservations@hotel.com",className:"flex items-center gap-2 hover:text-primary transition-colors",children:[(0,t.jsx)(m.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"reservations@hotel.com"})]})]}),(0,t.jsx)("div",{className:"flex gap-4 items-center",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i(),{href:"/profile",className:"hover:text-primary transition-colors flex items-center gap-1",children:[(0,t.jsx)(h.A,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"My Account"})]}),(0,t.jsx)("button",{onClick:async()=>{await v.auth.signOut(),window.location.href="/"},className:"hover:text-primary transition-colors",children:"Sign Out"})]}):(0,t.jsx)(i(),{href:"/login",className:"hover:text-primary transition-colors",children:"Sign In"})})]})}),(0,t.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500 ".concat(e?"glass-card border-b":"bg-transparent"),style:{top:e?"0":"32px"},children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 items-center h-20 gap-4",children:[(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsxs)(i(),{href:"/",className:"flex flex-col items-start group",children:[(0,t.jsx)("span",{className:"text-2xl font-display font-bold tracking-wider transition-all duration-300 ".concat(e?"text-slate-900":"text-white"," group-hover:accent-gold"),children:"ROYAL ELEGANCE"}),(0,t.jsx)("span",{className:"text-[10px] tracking-[0.3em] uppercase transition-all duration-300 ".concat(e?"text-slate-600":"text-white/80"," group-hover:text-[#d4af37]"),children:"Luxury Hotel & Residences"})]})}),(0,t.jsx)("div",{className:"hidden lg:flex items-center justify-center gap-8",children:N.map(s=>(0,t.jsxs)(i(),{href:s.href,className:"text-sm tracking-wide uppercase transition-all duration-300 relative group whitespace-nowrap ".concat(b===s.href?e?"text-slate-900 font-semibold":"text-white font-semibold":e?"text-slate-700 hover:text-slate-900":"text-white/90 hover:text-white"),children:[s.label,(0,t.jsx)("span",{className:"absolute -bottom-1 left-0 h-0.5 transition-all duration-300 ".concat(b===s.href?"w-full bg-gradient-to-r from-[#d4af37] to-[#f4d03f]":"w-0 bg-gradient-to-r from-[#d4af37] to-[#f4d03f] group-hover:w-full")})]},s.href))}),(0,t.jsx)("div",{className:"hidden lg:flex items-center justify-end gap-4",children:(0,t.jsx)(i(),{href:"/rooms",children:(0,t.jsxs)(o.$,{size:"sm",className:"booking-button tracking-wide",children:[(0,t.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Book Now"]})})}),(0,t.jsx)("div",{className:"lg:hidden flex justify-end",children:(0,t.jsx)("button",{onClick:()=>r(!a),className:"p-2 ".concat(e?"text-slate-900":"text-white"),children:a?(0,t.jsx)(u.A,{className:"w-6 h-6"}):(0,t.jsx)(f.A,{className:"w-6 h-6"})})})]})})}),a&&(0,t.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",style:{top:"112px"},children:(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-900/95 backdrop-blur-xl",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[N.map(e=>(0,t.jsx)(i(),{href:e.href,onClick:()=>r(!1),className:"text-lg tracking-wide uppercase transition-colors ".concat(b===e.href?"text-primary font-medium":"text-white hover:text-primary"),children:e.label},e.href)),(0,t.jsx)("div",{className:"pt-6 border-t border-white/10",children:(0,t.jsx)(i(),{href:"/rooms",onClick:()=>r(!1),children:(0,t.jsxs)(o.$,{className:"w-full booking-button",size:"lg",children:[(0,t.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Book Your Stay"]})})})]})})})})]})}},95740:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(71847).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])}},e=>{e.O(0,[4174,6010,9015,9786,2649,8441,1255,7358],()=>e(e.s=91132)),_N_E=e.O()}]);